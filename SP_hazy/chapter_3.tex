%   Filename    : chapter_3.tex 
\chapter{Research Methodology}
This chapter lists and discusses the specific steps and activities that will be performed  to accomplish the project. 
The discussion covers the activities from pre-proposal to Final SP Writing.

\section{Technologies Used}
The technologies that will be utilized for this project are the following: First, Roboflow for the preprocessing and preparation of the data. Roboflow offers tools such as annotation to manually set bounding boxes for model training and image augmentation for the manipulation of images. Second, Jupyter Notebook and Python for training and fitting the data. Jupyter notebook, using google colab, gives flexibility for collaboration,  google collab offers free GPU with CUDA for processing, and Python, the programming language, offers essential libraries for machine learning. Last, YOLOv5 serves as the object detection algorithm that will be used for counting vehicles.

\section{Research Activities}
To explore YOLOv5 two models will be used. One model is a pre-trained model that comes with YOLOv5 and a custom model trained with a dataset taken from Kaggle. YOLOv5 has options to download and use pre-trained models on the YOLOv5 GitHub page A(https://github.com/ultralytics/yolov5). This model will serve as a basis to benchmark the performance of the custom data.

\subsection {Data Gathering}
This study plans to identify an areaâ€™s pollution level through calculating average of the emissions coming from the cars on the road. In doing so, data of the vehicles, its identification, and its emission rates are needed for the study. Through the use of a camera, a live feed of the vehicles in traffic can be recorded to gather the data of cars in traffic. Image samples of the vehicles (Cars, Motorcycles, and Trucks) will be taken from the Kaggle dataset: Vehicle Images Dataset by Lyen Seotanto (2020). This can be utilized in training and testing for the software to recognize the vehicles on the video feed. For the identification , the website Kaggle will also provide the datasets via those publicly uploaded by their users. The car identification data is titled [INSERT DATABASE HERE] . The vehicle emissions will be taken from an average CO2 emissions of vehicles (four-wheelers and motorcycles) from a dataset provided by Gov.Uk (2020). 

\subsection {Preprocessing}

	Preprocessing the data includes defining the bounding box of the vehicles in the training data and augmenting the images to make the model perform better. Roboflow has an annotation tool that can be used for annotating bounding boxes that will be then used for training. Augmentation of the images will be done by the YOLOv5 algorithm automatically given that the Albumentation library is installed. Augmentation can be used for transforming the images allowing the model to diversify its training data set making it perform better. 


\subsection {Training and Performance Testing}

The training data will be separated into classes cars, motorcycles, and trucks. These classes will be the bases of classification for the training.  For performance testing, there are visualization tools available to visualize the performance of the model. In this project, Tensorboard will be used since it is already available in python and can be rendered using Jupyter notebook. The training time will be based on the performance parameters (Precision and Recall being the most important). If little to no improvement is being done by subsequent iterations on the performance parameters the training will be interrupted. To benchmark the performance of the custom data it will be compared against the pre-trained weights available for YOLOv5. 

\section {Model Applictation}
The program detect.py will be run to detect objects from an external device or video file using the trained model. When detect.py is run it will start to list the objects it detects. An average emission of each vehicle type will be used. [INSERT AVERAGES HERE]. The total emission from the area will be calculated using these values.


\section{Calendar of Activities}

Table \ref{tab:timetableactivities} shows a Gantt chart of the activities for the development of Hazy.  Each bullet represents approximately
one week worth of activity.

%
%  the following commands will be used for filling up the bullets in the Gantt chart
%
\newcommand{\weekone}{\textbullet}
\newcommand{\weektwo}{\textbullet \textbullet}
\newcommand{\weekthree}{\textbullet \textbullet \textbullet}
\newcommand{\weekfour}{\textbullet \textbullet \textbullet \textbullet}

%
%  alternative to bullet is a star 
%
\begin{comment}
   \newcommand{\weekone}{$\star$}
   \newcommand{\weektwo}{$\star \star$}
   \newcommand{\weekthree}{$\star \star \star$}
   \newcommand{\weekfour}{$\star \star \star \star$ }
\end{comment}



\begin{table}[ht]   %t means place on top, replace with b if you want to place at the bottom
\centering
\caption{Timetable of Activities} \vspace{0.25em}
\begin{tabular}{|p{2in}|c|c|c|c|c|c|c|c|} \hline
\centering Activities  & Sept  & Oct & Nov & Dec & Jan & Fab & Mar \\ \hline
Finding and Choosing Final Topic      & ~~~\weektwo &  &  &  &  &  &  \\ \hline
Review of Related Literature &   & \weekfour & \weekfour &  &  &  &  \\ \hline
Identifying Problem Statement     &  ~~~\weektwo &  \weekone~~~  &  & &  &  &  \\ \hline
Formation of Possible Solution    &   & ~~~\weektwo  &  \weekone~~~ &  & & &  \\ \hline
Constructing the Methodology     &   &  &   ~~~\weektwo & \weekthree ~~ & &  &  \\ \hline
Documentation & ~~~\weektwo  & \weekfour & \weekfour &\weekone ~~& &&~~~ \\ \hline
\end{tabular}
\label{tab:timetableactivities}
\end{table}

